<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h2 { color: #2c3e50; }
        pre { background: #ecf0f1; padding: 10px; border-radius: 5px; }
        .section { margin-bottom: 40px; }
    </style>
</head>
<body>
    <h1>API Documentation</h1>

    <h2>Endpoints</h2>

    <h3>/api/v1/register</h3>
    <p>Create a new admin user.</p>
    <pre><code>curl -X POST /api/v1/register -d '{"Username": "example", "Password": "password"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"success": true}</code></pre>

    <h3>/api/v1/admins</h3>
    <p>Get all admin users.</p>
    <pre><code>curl -H "Authorization: Authorization_Token" /api/v1/admins</code></pre>
    <p>Output:</p>
    <pre><code>[{"Username": "admin1"}, {"Username": "admin2"}, ...]</code></pre>

    <h3>/api/v1/login</h3>
    <p>Authenticate and log in a user.</p>
    <pre><code>curl -X POST /api/v1/login -d '{"Username": "example", "Password": "password"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{message: 'Logged in successfully!', session: 'token' }</code></pre>

    <h3>/api/v1/logout</h3>
    <p>Log out the authenticated user.</p>
    <pre><code>curl -H "Authorization: Authorization_Token" /api/v1/logout</code></pre>
    <p>Output:</p>
    <pre><code>{"message": "Logged out successfully."}</code></pre>

    <h3>/api/v1/company</h3>
    <p>Create a new company.</p>
    <pre><code>curl -H "Authorization: Authorization_Token" -X POST /api/v1/company -d '{"company_name": "Example Company"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"success": true, "company_api_key": "generated_key"}</code></pre>

    <h3>/api/v1/companies</h3>
    <p>Get all companies.</p>
    <pre><code>curl -H "Authorization: Authorization_Token" /api/v1/companies</code></pre>
    <p>Output:</p>
    <pre><code>[{"ID": 1, "company_name": "Company 1"}, {"ID": 2, "company_name": "Company 2"}, ...]</code></pre>

    <h3>/api/v1/location</h3>
    <p>Create a new location.</p>
    <pre><code>curl -X POST /api/v1/location -d '{"company_api_key": "api_key", "company_id": 1, "location_name": "Location 1", "location_country": "Country", "location_city": "City", "location_meta": "Meta"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"id": 1}</code></pre>

    <h3>/api/v1/locations</h3>
    <p>Get all locations.</p>
    <pre><code>curl /api/v1/locations?company_api_key=api_key</code></pre>
    <p>Output:</p>
    <pre><code>[{"ID": 1, "location_name": "Location 1", "location_country": "Country", "location_city": "City", "location_meta": "Meta"}, {"ID": 2, "location_name": "Location 2", ...}</code></pre>

    <h3>/api/v1/location/:id (GET)</h3>
    <p>Get a location by ID.</p>
    <pre><code>curl /api/v1/location/1?company_api_key=api_key</code></pre>
    <p>Output:</p>
    <pre><code>{"ID": 1, "location_name": "Location 1", "location_country": "Country", "location_city": "City", "location_meta": "Meta"}</code></pre>

    <h3>/api/v1/location/:id (PUT)</h3>
    <p>Update a location.</p>
    <pre><code>curl -X PUT /api/v1/location/:id -d '{"company_api_key": "api_key", "location_name": "Updated Location Name", "location_country": "Updated Country", "location_city": "Updated City", "location_meta": "Updated Meta"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"changes": 1}</code></pre>

    <h3>/api/v1/location/:id (DELETE)</h3>
    <p>Delete a location.</p>
    <pre><code>curl -X DELETE /api/v1/location/:id -d '{"company_api_key": "api_key"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"changes": 1}</code></pre>

    <h3>/api/v1/sensor</h3>
    <p>Create a new sensor.</p>
    <pre><code>curl -X POST /api/v1/sensor -d '{"company_api_key": "api_key", "location_id": 1, "sensor_name": "Sensor 1", "sensor_category": "Category", "sensor_meta": "Meta"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"success": true, "sensor_api_key": "generated_key"}</code></pre>

    <h3>/api/v1/sensors</h3>
    <p>Get all sensors.</p>
    <pre><code>curl /api/v1/sensors?company_api_key=api_key</code></pre>
    <p>Output:</p>
    <pre><code>[{"location_id": 1, "sensor_id": 1, "sensor_name": "Sensor 1", "sensor_category": "Category", "sensor_meta": "Meta"}, {"location_id": 2, "sensor_id": 2, ...}</code></pre>

    <h3>/api/v1/sensor/:id (GET)</h3>
    <p>Get a sensor by ID.</p>
    <pre><code>curl /api/v1/sensor/1?company_api_key=api_key</code></pre>
    <p>Output:</p>
    <pre><code>{"location_id": 1, "sensor_id": 1, "sensor_name": "Sensor 1", "sensor_category": "Category", "sensor_meta": "Meta"}</code></pre>

    <h3>/api/v1/sensor/:id (PUT)</h3>
    <p>Update a sensor.</p>
    <pre><code>curl -X PUT /api/v1/sensor/:id -d '{"company_api_key": "api_key", "sensor_name": "Updated Sensor Name", "sensor_category": "Updated Category", "sensor_meta": "Updated Meta"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"changes": 1}</code></pre>

    <h3>/api/v1/sensor/:id (DELETE)</h3>
    <p>Delete a sensor.</p>
    <pre><code>curl -X DELETE /api/v1/sensor/:id -d '{"company_api_key": "api_key"}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"changes": 1}</code></pre>

    <h3>/api/v1/sensor_data</h3>
    <p>Insert sensor data.</p>
    <pre><code>curl -X POST /api/v1/sensor_data -d '{"api_key": "sensor_api_key", "json_data": [{"data_key": "key1", "data_value": "value1"}, {"data_key": "key2", "data_value": "value2"}]}' -H 'Content-Type: application/json'</code></pre>
    <p>Output:</p>
    <pre><code>{"success": true}</code></pre>

    <h3>/api/v1/sensor_data</h3>
    <p>Query sensor data.</p>
    <pre><code>curl /api/v1/sensor_data?company_api_key=api_key&sensor_id=1&from=timestamp1&to=timestamp2</code></pre>
    <p>Output:</p>
    <pre><code>[{"sensor_id": 1, "data_key": "key1", "data_value": "value1", "timestamp": timestamp1}, {"sensor_id": 1, "data_key": "key2", "data_value": "value2", "timestamp": timestamp2}, ...]</code></pre>

</body>

</html>
